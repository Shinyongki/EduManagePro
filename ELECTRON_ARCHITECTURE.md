# EduManagePro Electron 아키텍처 가이드

## 시스템 개요
EduManagePro는 **독립적인 데스크톱 애플리케이션**으로, 클라우드 서버 임대 없이 개인 PC에서 완전히 작동합니다.

## 아키텍처 구조

### 전체 구성 요소
```
[Electron 데스크톱 앱]
    ↓ (웹뷰로 표시)
[React 프론트엔드] ↔ [Express.js 로컬 서버] ↔ [로컬 데이터베이스]
```

### 각 구성 요소 역할

#### 1. Electron (데스크톱 래퍼)
- **파일**: `electron/main.js`
- **역할**: 브라우저 창을 생성하여 React 앱을 표시
- **특징**: 
  - 네이티브 데스크톱 앱처럼 작동
  - 파일 시스템 접근 가능
  - 독립 실행 가능

#### 2. React 프론트엔드 (UI)
- **위치**: `client/src/`
- **역할**: 사용자 인터페이스 렌더링
- **기술**: React + TypeScript + Tailwind CSS
- **빌드**: Vite로 번들링

#### 3. Express.js 로컬 서버 (백엔드)
- **파일**: `server/index.ts`
- **역할**: 
  - API 엔드포인트 제공
  - 파일 업로드/파싱 (Excel/CSV)
  - 데이터베이스 연동
  - 세션 관리
- **포트**: `localhost:3006` (로컬에서만 접근 가능)

#### 4. 로컬 데이터베이스
- **역할**: 교육 데이터 저장 및 관리
- **특징**: 사용자 PC에 저장되는 로컬 파일

## 실행 모드

### 개발 모드
```bash
npm run dev           # Express 서버 시작 (localhost:3006)
npm run electron-dev  # Electron 앱 시작 (외부 서버 연결)
```
- 핫 리로드 지원
- 개발자 도구 자동 열림
- 외부에서 실행 중인 서버에 연결

### 프로덕션 모드
```bash
npm run build-electron  # 독립 실행 파일 생성
```
- 내장 서버 자동 시작
- 모든 구성 요소가 하나의 앱으로 패키징
- 인터넷 연결 불필요

## 배포 및 설치

### 빌드 과정
1. React 앱 빌드 (`vite build`)
2. Express 서버 번들링 (`esbuild`)
3. Electron 패키징 (`electron-builder`)

### 최종 결과물
- **Windows**: `.exe` 설치 파일
- **macOS**: `.dmg` 파일
- **Linux**: `AppImage` 파일

### 사용자 설치
1. 설치 파일 하나만 다운로드
2. 일반 프로그램처럍 설치
3. 바로 사용 가능 (추가 설정 불필요)

## 주요 특징

### ✅ 장점
- **독립성**: 인터넷 연결 불필요
- **보안성**: 데이터가 로컬에 저장
- **성능**: 네트워크 지연 없음
- **비용**: 서버 임대료 불필요

### ⚠️ 주의사항
- 개발 시 서버와 Electron을 별도로 실행
- 프론트엔드 변경 시 서버 재시작 필요할 수 있음
- 로컬 데이터이므로 백업 관리 필요

## 개발 워크플로우

### 일반 개발
1. `npm run dev` (백엔드 서버 시작)
2. `npm run electron-dev` (Electron 앱 시작)
3. 코드 수정 → 자동 리로드

### 빌드 테스트
```bash
npm run build-electron  # 프로덕션 빌드
npm run electron        # 빌드된 앱 실행
```

### 배포 준비
```bash
npm run release  # 최종 배포 파일 생성
```

## 결론
EduManagePro는 웹 기술을 사용하지만 **완전한 데스크톱 애플리케이션**입니다. 사용자는 일반 프로그램처럼 설치하고 사용할 수 있으며, 별도의 서버 운영이나 인터넷 연결이 필요하지 않습니다.